const KHPGen={aniSpeed:"fast",minus_icon:"➖",aniReplaceHTML(selector,content,duration){$(selector).fadeOut(duration,()=>$(selector).html(content).fadeIn(duration))},aniAppendTo(takeThis,appendHere,aniSpeed=KHPGen.aniSpeed){$(takeThis).css({display:"none"}).appendTo(appendHere).slideDown(aniSpeed)},ADD_EPISODE(elem){$(elem).parent(".addRemoveEpBtn").parent(".episode_container").after($("#phantomZoneCtn .episode_container").clone().hide()).next().slideDown(KHPGen.aniSpeed)},REMOVE_EPISODE(elem){let a=$(elem).parent(".addRemoveEpBtn").parent(".episode_container");a.slideUp(KHPGen.aniSpeed,()=>a.remove())},ADD_SOURCE(elem){KHPGen.aniAppendTo($("#temp_zone #singleSrcCtn").clone(),$(elem).parent("#singleSrcCtn").parent("#ALL_SRCS_CTN"),KHPGen.aniSpeed)},REMOVE_SOURCE(elem){let a=$(elem).parent("#singleSrcCtn");a.slideUp(KHPGen.aniSpeed,()=>a.remove())},ADD_CAPTIONS(elem){let a=$("#temp_zone #singleCapCtn").clone(),b=$(elem).parent("#singleCapCtn").parent("#ALL_CAPS_CTN");KHPGen.aniAppendTo(a,b,KHPGen.aniSpeed)},REMOVE_CAPTIONS(elem){let a=$(elem).parent("#singleCapCtn");a.slideUp(KHPGen.aniSpeed,()=>a.remove())},SELECT_TYPE(elem){let a=$(elem).parent(".dropdown-menu").parent("#typeSelectorContainer").find("#typeSelectorBtn"),b=$(elem).html();KHPGen.aniReplaceHTML(a,b,KHPGen.aniSpeed),a.attr("selected-type",$(elem).attr("type-data"))},SELECT_RES(elem){let a=$(elem).parent(".dropdown-menu").parent("#qualitySelectorContainer").find("#qualitySelectorBtn"),b=$(elem).html();KHPGen.aniReplaceHTML(a,b,KHPGen.aniSpeed),a.attr("selected-res",$(elem).attr("res-data"))},saveAsJSON(string){let filename=UNIQUE_ID,blob=new Blob([string],{type:"application/json"});saveAs(blob,filename)},downloadData(){saveAsJSON(generateCodeFromUserInput())},completeResult(elem){$("#masterPosterContainer, .episode_container").slideUp(KHPGen.aniSpeed),$("#addOrCreateNewCtn").slideDown(KHPGen.aniSpeed),$(elem).html("Quay lại chỉnh sửa"),$(elem).attr("onclick","KHPGen.editResult(this)")},editResult(elem){$("#addOrCreateNewCtn, #createNewPPCtn, #existedPPCtn").slideUp(KHPGen.aniSpeed),$("#masterPosterContainer, .episode_container").slideDown(KHPGen.aniSpeed),$(elem).html("Hoàn thành"),$(elem).attr("onclick","KHPGen.completeResult(this)")},generateCodeFromUserInput(){$("#outputPanel").slideUp(KHPGen.aniSpeed);const RAW_DATA=[];let finalMasPoster=$("#masterPosterInput").val()||"";return $("#userInteractCtn .episode_container").each((index,value)=>{if($(value).find(".title").val()){let processingEpElem={},checkSubsExist=$(value).find("#ALL_CAPS_CTN").find("#singleCapCtn").find(".captionFullName").val(),inputEpPoster=$(value).find(".essentials").find(".poster").val();processingEpElem.type="video",processingEpElem.title=$(value).find(".title").val(),processingEpElem.sources=[];let finalEpPoster,preThumbSrc=$(value).find(".previewThumbnail").val();preThumbSrc&&(processingEpElem.previewThumbnails={src:preThumbSrc}),$(value).find("#ALL_SRCS_CTN").find("#singleSrcCtn").each((index,value)=>{let currentMediaSrc={},inputSrcType=$(value).find("#typeSelectorContainer").find("#typeSelectorBtn").attr("selected-type");currentMediaSrc.src=$(value).find(".mediaSrc").val(),currentMediaSrc.type="undefined"!=inputSrcType?inputSrcType:"video/mp4";let a=$(value).find("#qualitySelectorContainer").find("#qualitySelectorBtn").attr("selected-res");currentMediaSrc.size=null!=a?parseInt(a):1080,processingEpElem.sources.push(currentMediaSrc)}),checkSubsExist&&(processingEpElem.tracks=[],$(value).find("#ALL_CAPS_CTN").find("#singleCapCtn").each((index,value)=>{let processingCaption={kind:"subtitles"};processingCaption.label=$(value).find(".captionFullName").val(),processingCaption.srclang=$(value).find(".captionShortName").val(),processingCaption.src=$(value).find(".capionSrc").val(),processingEpElem.tracks.push(processingCaption)})),finalEpPoster=inputEpPoster||finalMasPoster,processingEpElem.poster=finalEpPoster,RAW_DATA.push(processingEpElem)}}),RAW_DATA.push(finalMasPoster),RAW_DATA.push(UNIQUE_ID),JSON.stringify(RAW_DATA)},copy2clip:new ClipboardJS(".copy2clip"),messageBox(message="Thông báo!",duration=1e3){let tempID=`_${(new Date).getTime()}`;void 0===$(".alertCtn")[0]&&$("body").append('<div class="alertCtn"><div class="innerAlertCtn"></div></div>'),$(".innerAlertCtn").append(`<div class="alert" id="${tempID}" role="alert" style="display:none">${message}</div>`),$(`#${tempID}`).slideDown("normal"),setTimeout(()=>{$(`#${tempID}`).slideUp("normal",()=>$(`#${tempID}`).remove())},duration)}};var UNIQUE_ID="KHP_"+Date.now();$("#qualitySelectorContainer .dropdown-item").attr("onclick","KHPGen.SELECT_RES(this)"),$("#typeSelectorContainer .dropdown-item").attr("onclick","KHPGen.SELECT_TYPE(this)"),$("#phantomZoneCtn .episode_container").clone().appendTo("#userInteractCtn").show(),$("#phantomZoneCtn #ALL_SRCS_CTN #singleSrcCtn").clone().appendTo("#phantomZoneCtn #temp_zone"),$("#temp_zone #addSourceBtn").attr("onclick","KHPGen.REMOVE_SOURCE(this)").removeAttr("id").html(KHPGen.minus_icon),$("#phantomZoneCtn #ALL_CAPS_CTN #singleCapCtn").clone().appendTo("#phantomZoneCtn #temp_zone"),$("#temp_zone #addCaptionBtn").attr("onclick","KHPGen.REMOVE_CAPTIONS(this)").removeAttr("id").html(KHPGen.minus_icon),$("#phantomZoneCtn #addEpBtn").clone().appendTo("#phantomZoneCtn .addRemoveEpBtn"),$("#phantomZoneCtn #addEpBtn:nth-child(2)").removeAttr("id").attr("onclick","KHPGen.REMOVE_EPISODE(this)").html(KHPGen.minus_icon),$(".editResult").hide(),$("#downloadJSON").on("click",()=>KHPGen.saveAsJSON(KHPGen.generateCodeFromUserInput())),$("#createNewPPActionBtn").on("click",()=>{$("#createNewPPCode>code").html(`&#x3C;div id=&#x22;${UNIQUE_ID}&#x22;&#x3E;&#x3C;/div&#x3E;`),$("#existedPPCtn").slideUp(KHPGen.aniSpeed),$("#createNewPPCtn").slideDown(KHPGen.aniSpeed)}),$("#existedPPActionBtn").on("click",()=>{$("#existedPPCtnCode>code").html(KHPGen.generateCodeFromUserInput(!1)),$("#createNewPPCtn").slideUp(KHPGen.aniSpeed),$("#existedPPCtn").slideDown(KHPGen.aniSpeed)}),KHPGen.copy2clip.on("success",e=>{e.clearSelection(),KHPGen.messageBox("Đã copy vào clipboard!")});
//# sourceMappingURL=vendor.min.js.map
